<!doctype html public "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
    <title>Commodore 64 Service Manual: Keyboard, Joystick & Paddle Interfaces</title><meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
<a href="Page_11.html"><img src="../../../../images/blue_prev.gif" width="24" height="24" alt="[Prev]"></a> <a href="Page_13.html"><img src="../../../../images/blue_next.gif" width="24" height="24" alt="[Next]"></a> <a href="contents.html"><img src="../../../../images/blue_toc.gif" width="24" height="24" alt="[Contents]"></a>
<a href="../../index.html"><img src="../../../../images/blue_cbm.gif" alt="[Commodore]" width="22" height="24"></a>
 <a href="https://www.devili.iki.fi/general/new.html" title="New"><img src="../../../../images/blue_new.gif" alt="[New]" height="24" width="27"></a>
<a href="https://www.devili.iki.fi/search/" title="Search"><img src="../../../../images/blue_search.gif" alt="[Search]" height="24" width="24"></a>
<a href="https://www.devili.iki.fi/" title="Home"><img src="../../../../images/blue_home.gif" alt="[Home]" width=24 height=24></a>
<br>
<hr>


<h2>C64 CIRCUIT THEORY</h2>
<a href="large/Page_12_a.gif"><img src="small/Page_12_a.gif" alt="[Interface control schematic]"></a>

<h5>Keyboard, Joystick, and Paddle Interface Circuits.</h5>

<h5>Keyboard Interface</h5>

U1 is a Complex Interface Adapter (CIA). Both parallel ports are used to decode the keyswitches on
the keyboard. Parallel port A signals (PA0 - PA7) are outputs. PArallel port B signals (PB0 - PB7) are
inputs. A "0" bin is shifted through the parallel port A, when a key is depressed on the keyboard
the "0" bit is returned on one of the parallel port B inputs. A program in the KERNAL ROM generates
the shifting "0" bit output on parallel port A, and decodes the signals returning on the parallel port
B inputs. Depressing the restore key causes U20 to trigger. U9 pin 6 goes "low" generating a Non-
Maskable Interrupt (NMI) at the processor. This causes the processor to execute a subroutine which
initializes the I/O interfaces. If the STOP key is depressed at the same time, BASIC flags are
initialized.

<p><a href="large/Page_12_b.gif"><img src="small/Page_12_b.gif" alt="[Keyboard matrix]"></a>

<h5>Joystick Interface</h5>

U1 also controls the joystick. Parallel port A accepts inputs from the B joystick connected to control
port 2. Parallel port B accepts inputs from the A joystick connected to control port 1. When the joystick
is moved up, down, left, right, or the fire button is depressed, a ground potential is applied to the
appropriate input of U1.

<h5>Paddle Interface</h5>

A Variable resistor is connected to adjusting knob on the paddle. When the knob is rotated, the
resistance varies controlling the time constant of an RC network. The Voltage developed across the
capacitor is input to an A/D converter internal to the SID chip U18. The digital output is stored in
one of the SID registers. The paddle position can be determined by the reading the contents of the
appropriate register. U28 is a 4066 CMOS switch. The signals from the paddles are passed to the
SID chip when the Enable inputs (E0 - E3) of U28 are "high".

<table border=1 width="50%"><tr>
<td><table><tr>
<td valign=top><b>NOTE:</b></td>
    <td>
    U1 port assignments are incorrect on
    schematics. Refer to Keyboard Matrix
    for correct assignments.
    </td>
</tr></table></td>
</tr></table>

<hr>
<a href="Page_11.html"><img src="../../../../images/blue_prev.gif" width="24" height="24" alt="[Prev]"></a> <a href="Page_13.html"><img src="../../../../images/blue_next.gif" width="24" height="24" alt="[Next]"></a> <a href="contents.html"><img src="../../../../images/blue_toc.gif" width="24" height="24" alt="[Contents]"></a>
<a href="../../index.html"><img src="../../../../images/blue_cbm.gif" alt="[Commodore]" width="22" height="24"></a>
 <a href="https://www.devili.iki.fi/general/new.html" title="New"><img src="../../../../images/blue_new.gif" alt="[New]" height="24" width="27"></a>
<a href="https://www.devili.iki.fi/search/" title="Search"><img src="../../../../images/blue_search.gif" alt="[Search]" height="24" width="24"></a>
<a href="https://www.devili.iki.fi/" title="Home"><img src="../../../../images/blue_home.gif" alt="[Home]" width=24 height=24></a>
<br>
<table cellspacing="0" border="0" width="100%">
<tr><td align="right" colspan="2"><small>
	This page has been created by <a href="mailto:rtiainen@suespammers.org">
	Sami Rautiainen</a>.
</small></td></tr><tr><td align="left"><small>
	Read the <a href="https://www.devili.iki.fi/general/copyright.html">small print</a>.
</small></td><td align="right"><small>
	Last updated 
	September 05, 2020.
</small></td></tr>
</table>


</body>
</html>
