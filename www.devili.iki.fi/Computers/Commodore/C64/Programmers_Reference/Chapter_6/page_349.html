<!doctype html public "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
    <title>C64 Programmer's Reference Guide: Input/Output Guide - RS-323 Interface Description (cont.)</title>
     <link rel="stylesheet" href="../default.css">
  <link rel="start" href="../../../index.html">
  <link rel="up" href="../index.html">
  <link rel="first" href="../front_cover.html">
  <link rel="contents" href="../page_iii.html">
  <link rel="chapter" title="Chapter 1 - BASIC Programming Rules" href="../Chapter_1/index.html">
  <link rel="chapter" title="Chapter 2 - BASIC Language Vocabulary" href="../Chapter_2/index.html">
  <link rel="chapter" title="Chapter 3 - Programming Graphics on the Commodore 64" href="../Chapter_3/index.html">
  <link rel="chapter" title="Chapter 4 - Programming Sound and Music on Your Commodore 64" href="../Chapter_4/index.html">
  <link rel="chapter" title="Chapter 5 - Basic to Machine Language" href="../Chapter_5/index.html">
  <link rel="chapter" title="Chapter 6 - Input/Output Guide" href="index.html">
  <link rel="appendix" title="Appendix F - Bibliography" href="../Appendices/page_388.html">
  <link rel="appendix" title="Appendix G - VIC Chip Register Map" href="../Appendices/page_391.html">
  <link rel="appendix" title="Appendix K - Error Messages" href="../Appendices/page_400.html">
  <link rel="appendix" title="Appendix P - Glossary" href="../Appendices/page_482.html">
  <link rel="glossary" href="../Appendices/page_482.html">
  <link rel="index" href="../page_483.html">
  <link rel="copyright" href="../page_ii.html">
  <link rel="last" href="../back_cover.html">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  

</head>

<body>
<a href="page_348.html"><img src="../../../../../images/blue_prev.gif" width="24" height="24" alt="[Prev]"></a> <a href="page_350.html"><img src="../../../../../images/blue_next.gif" width="24" height="24" alt="[Next]"></a> <a href="../page_iii.html"><img src="../../../../../images/blue_toc.gif" width="24" height="24" alt="[Contents]"></a>
<a href="../../../index.html"><img src="../../../../../images/blue_cbm.gif" alt="[Commodore]" width="22" height="24"></a> <a href="https://www.devili.iki.fi/general/new.html" title="New"><img src="../../../../../images/blue_new.gif" alt="[New]" height="24" width="27"></a>
<a href="https://www.devili.iki.fi/search/" title="Search"><img src="../../../../../images/blue_search.gif" alt="[Search]" height="24" width="24"></a>
<a href="https://www.devili.iki.fi/" title="Home"><img src="../../../../../images/blue_home.gif" alt="[Home]" width=24 height=24></a>
<br>
<hr>


<p>NMI (Non-Maskable Interrupt) requests for RS-232 processing. This allows
 background RS-232 processing to take place during BASIC and machine
 language programs. There are built-in hold-offs in the KERNAL, cassette,
 and serial bus routines to prevent the disruption of data storage or
 transmission by the NMIs that are generated by the RS-232 routines.
 During cassette or serial bus activities, data can NOT be received from
 RS-232 devices. But because these hold-offs are only local (assuming
 you're careful about your programming) no interference should result.

<p>There are two buffers in the Commodore 64 RS-232 interface to help
 prevent the loss of data when transmitting or receiving RS-232 informa-
 tion.

<p>The Commodore 64 RS-232 KERNAL buffers consist of two first-in/first-
 out (FIFO) buffers, each 256 bytes long, at the top of memory. The
 <code>OPEN</code>ing of an RS-232 channel automatically allocates 512 bytes of memory
 for these buffers. If there is not enough free space beyond the end of
 your BASIC program no error message will be printed, and the end of your
 program will be destroyed. SO BE CAREFUL!

<p>These buffers are automatically removed by using the <code>CLOSE</code> command.

<h3><a name="Opening">OPENING AN RS-232 CHANNEL</a></h3>

<p>Only one RS-232 channel should be open at any time; a second <code>OPEN</code>
 statement will cause the buffer pointers to be reset. Any characters in
 either the transmit buffer or the receive buffer will be lost.

<p>Up to 4 characters can be sent in the filename field. The first two are
 the control and command register characters; the other two are reserved
 for future system options. Baud rate, parity, and other options can be
 selected through this feature.

<p>No error-checking is done on the control word to detect a nonimplemented baud rate. Any illegal control word will cause the system
 output to operate at a very slow rate (below 50 baud).

<p><strong>BASIC SYNTAX:</strong>
<pre>
   OPEN lfn,2,0,"&lt;control register&gt;&lt;command register&gt;&lt;opt baud low&gt;&lt;opt
 baud high&gt;"
</pre>
<p><code>lfn</code>-The logical file number (lfn) then can be any number from 1 through
 255. But be aware of the fact that if you choose a logical file number
 that is greater than 127, then a line feed will follow all carriage
 returns.

<hr>
<a href="page_348.html"><img src="../../../../../images/blue_prev.gif" width="24" height="24" alt="[Prev]"></a> <a href="page_350.html"><img src="../../../../../images/blue_next.gif" width="24" height="24" alt="[Next]"></a> <a href="../page_iii.html"><img src="../../../../../images/blue_toc.gif" width="24" height="24" alt="[Contents]"></a>
<a href="../../../index.html"><img src="../../../../../images/blue_cbm.gif" alt="[Commodore]" width="22" height="24"></a> <a href="https://www.devili.iki.fi/general/new.html" title="New"><img src="../../../../../images/blue_new.gif" alt="[New]" height="24" width="27"></a>
<a href="https://www.devili.iki.fi/search/" title="Search"><img src="../../../../../images/blue_search.gif" alt="[Search]" height="24" width="24"></a>
<a href="https://www.devili.iki.fi/" title="Home"><img src="../../../../../images/blue_home.gif" alt="[Home]" width=24 height=24></a>
<br>
<table cellspacing="0" border="0" width="100%">
<tr><td align="right" colspan="2"><small>
	This page has been created by <a href="mailto:rtiainen@suespammers.org">
	Sami Rautiainen</a>.
</small></td></tr><tr><td align="left"><small>
	Read the <a href="https://www.devili.iki.fi/general/copyright.html">small print</a>.
</small></td><td align="right"><small>
	Last updated 
	May 20, 1998.
</small></td></tr>
</table>


</body>
</html>
