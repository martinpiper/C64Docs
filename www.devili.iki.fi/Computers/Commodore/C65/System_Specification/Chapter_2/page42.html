<!doctype html public "-//W3C//DTD HTML 3.2//EN">

<html>
<head>
    <title>System Specification for C65: C65 System Hardware - The CSG 4510 Microcontroller Chip (cont.)</title>
    <link rel=first href="../page1.html">
    <link rel=top href="../../../index.html">
     <link rel=prev href="page41.html"> 
     <link rel=next href="page43.html"> 
    <link rel="contents" href="../page6.html">
    <link rel="chapter" href="../Chapter_1/page9.html" title="Chapter 1 - Introduction">
    <link rel="chapter" href="page21.html" title="Chapter 2 - System Hardware">
    <link rel="chapter" href="../Chapter_3/page141.html" title="Chapter 3 - System Software">
    <link rel="chapter" href="../Chapter_4/page326.html" title="Chapter 4 - C64DX Development Support">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
 <a href="page41.html"><img src="../../../../../images/blue_prev.gif" width="24" height="24" alt="[Prev]"></a> 
 <a href="page43.html"><img src="../../../../../images/blue_next.gif" width="24" height="24" alt="[Next]"></a> 
<a href="../page6.html"><img src="../../../../../images/blue_toc.gif" width="24" height="24" alt="[Contents]"></a> <a href="../../../index.html"><img src="../../../../../images/blue_cbm.gif" alt="[Commodore]" width="22" height="24"></a>
 <a href="https://www.devili.iki.fi/general/new.html" title="New"><img src="../../../../../images/blue_new.gif" alt="[New]" height="24" width="27"></a>
<a href="https://www.devili.iki.fi/search/" title="Search"><img src="../../../../../images/blue_search.gif" alt="[Search]" height="24" width="24"></a>
<a href="https://www.devili.iki.fi/" title="Home"><img src="../../../../../images/blue_home.gif" alt="[Home]" width=24 height=24></a>
<br>
<hr>
<table width="100%">
  <tr><td align=left>System Specification for C65</td><td align=center>Fred Bowen</td><td align=right>March 1, 1991</td></tr>
</table>
<p>


<p>      TIMER D can count CIMHZ clock pulses, external pulses applied to the
      CNTB input, TIMER C underflow pulses or TIMER C underflow pulses while the
      CNTB pin is held high.
    
<p>       The timer latch is loaded into the timer on any timer underflow, on a
    force load or following a write to the high byte of the prescaler while the
    timer is stopped. If the timer is running, a write to the high byte will
    load the timer latch, but not reload the counter.
    
<h4><a name="2.3.5.4">2.3.5.4</a> <u>Time of Day Clocks (TODA, TODB)</u></h4>
    
<p>       The TODA and TODB clocks are special purpose timers for real-time
    applications. Each clock, TODA or TODB, consists of a 24-hour (AM/PM) clock
    with 1/10th second resolution. Each is organized into four registers: 10ths
    of seconds (TODATS, TODBTS), Seconds (TODAS, TODBS), Minutes (TODAM, TODBM)
    and Hours (TODAH, TODBH). The AM/PM flag is in the MSB of the Hours
    register for easy testing. Each register reads out in BCD format to simpl
    fy conversion for driving displays, etc. Each TOD requires a 10HZ clock
    input to keep accurate timing. This 10HZ clock is generated by dividing
    the C7MHz clock input by a factor'of 102273 for NTSC (60Hz) applications, or
    a factor of 101339 for PAL (50Hz) applications. The divider ratio is
    selected by the TODA IN and the TODB IN bits of the Control Registers, CRA
    and CRC, respectively (see 2.5.8).
    
<p>       In addition to time-keeping, a programmable ALARM is provided for
    generating an interrupt at the de-sired time, from either of the TOD clocks. The
    ALARM registers registers are located at the same addresses as the
    corresponding TODA and TODB registers. Access to the ALARM is governed by bit 7
    in the Control Registers CRB and CRD. The ALARM registers are write-only
    any read of a TOD address will read time regardless of the state of the
    ALARM access control bits.
    
<p>       A specific sequence of events musl be followed for proper setting and
    reading of each TOD. A TOD is automatically stopped whenever a write to the
    corresponding Hours register occurs. The TOD will not start again until
    after a write to the proper 10ths of seconds register. This assures that a
    TOD will always start at the desired time. Since a carry from one stage to
    the next can occur at any time with respect to a read operation, a latching
    function is included to keen all Time of Day information constant during a
    read sequence. All four registers of each TOD latch on a read of the
    corresponding Hours register and remain latched until after a read of the
    corresponding 10ths of second register. A TOD continues to count when the
    output registers are latched. If only one register is to be read, there is
    no carry problem and the register can be read "on the fly", provided that
    any read of the Hours register if followed by a read of the proper 10ths of
    seconds, to disable the latching.
    
<h4><a name="2.3.5.5">2.3.5.5</a> <u>Serial Ports (SDRA, SDRB)</u></h4>
    
<p>       Each serial port is a buffered, 8-bit synchronous shift register
    system. A control bit (CRA SPA bit, CRC SPB bit) select$ input or output mode
    for either the SDRA or SDRB port.
    
<p>       In input mode, data on the SPA or SPB pin is shifted into the
    corresponding shift register on the rising edge of the signal applied to the CNTA
    or CNTB pin, respectively. After 8 CNTA pulses , the data in the shift
    register is dumped into the SERIALA Data Register (SDRA) and an interrupt is

<p>
<hr>
  <a href="page41.html"><img src="../../../../../images/blue_prev.gif" width="24" height="24" alt="[Prev]"></a> 
 <a href="page43.html"><img src="../../../../../images/blue_next.gif" width="24" height="24" alt="[Next]"></a> 
<a href="../page6.html"><img src="../../../../../images/blue_toc.gif" width="24" height="24" alt="[Contents]"></a> <a href="../../../index.html"><img src="../../../../../images/blue_cbm.gif" alt="[Commodore]" width="22" height="24"></a>
 <a href="https://www.devili.iki.fi/general/new.html" title="New"><img src="../../../../../images/blue_new.gif" alt="[New]" height="24" width="27"></a>
<a href="https://www.devili.iki.fi/search/" title="Search"><img src="../../../../../images/blue_search.gif" alt="[Search]" height="24" width="24"></a>
<a href="https://www.devili.iki.fi/" title="Home"><img src="../../../../../images/blue_home.gif" alt="[Home]" width=24 height=24></a>
<br>
<table cellspacing="0" border="0" width="100%">
<tr><td align="right" colspan="2"><small>
	This page has been created by <a href="mailto:rtiainen@suespammers.org">
	Sami Rautiainen</a>.
</small></td></tr><tr><td align="left"><small>
	Read the <a href="https://www.devili.iki.fi/general/copyright.html">small print</a>.
</small></td><td align="right"><small>
	Last updated 
	May 06, 2002.
</small></td></tr>
</table>

</body>

</html>

