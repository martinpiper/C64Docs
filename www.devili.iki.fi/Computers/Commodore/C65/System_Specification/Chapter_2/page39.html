<!doctype html public "-//W3C//DTD HTML 3.2//EN">

<html>
<head>
    <title>System Specification for C65: C65 System Hardware - The CSG 4510 Microcontroller Chip (cont.)</title>
    <link rel=first href="../page1.html">
    <link rel=top href="../../../index.html">
     <link rel=prev href="page38.html"> 
     <link rel=next href="page40.html"> 
    <link rel="contents" href="../page6.html">
    <link rel="chapter" href="../Chapter_1/page9.html" title="Chapter 1 - Introduction">
    <link rel="chapter" href="page21.html" title="Chapter 2 - System Hardware">
    <link rel="chapter" href="../Chapter_3/page141.html" title="Chapter 3 - System Software">
    <link rel="chapter" href="../Chapter_4/page326.html" title="Chapter 4 - C64DX Development Support">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
 <a href="page38.html"><img src="../../../../../images/blue_prev.gif" width="24" height="24" alt="[Prev]"></a> 
 <a href="page40.html"><img src="../../../../../images/blue_next.gif" width="24" height="24" alt="[Next]"></a> 
<a href="../page6.html"><img src="../../../../../images/blue_toc.gif" width="24" height="24" alt="[Contents]"></a> <a href="../../../index.html"><img src="../../../../../images/blue_cbm.gif" alt="[Commodore]" width="22" height="24"></a>
 <a href="https://www.devili.iki.fi/general/new.html" title="New"><img src="../../../../../images/blue_new.gif" alt="[New]" height="24" width="27"></a>
<a href="https://www.devili.iki.fi/search/" title="Search"><img src="../../../../../images/blue_search.gif" alt="[Search]" height="24" width="24"></a>
<a href="https://www.devili.iki.fi/" title="Home"><img src="../../../../../images/blue_home.gif" alt="[Home]" width=24 height=24></a>
<br>
<hr>
<table width="100%">
  <tr><td align=left>System Specification for C65</td><td align=center>Fred Bowen</td><td align=right>March 1, 1991</td></tr>
</table>
<p>

    
<p>       It is possible, and likely, to have mapped, and unmapped memory at
    the same physical address. And, with offset registers set to zero, mapped
    addresses will match unmapped ones. The only difference is the NOMAP signal
    to tell whether the address is mapped or unmapped.
    
<p>       To program the mapper, the operating system must load the A, X, Y,
    and Z registers with the following information, and execute a MAP opcode,

<p><table align=center border=1 cellspacing=0>
<caption>Mapper Register Data</caption>
<tr><th>7</th><th>6</th><th>5</th><th>4</th><th>3</th><th>2</th><th>1</th><th>0</th><th>BIT</th></tr>
<tr>
<td>    LOWER <br>OFF15</td>
<td>    LOWER <br>OFF14</td>
<td>    LOWER <br>OFF13</td>
<td>    LOWER <br>OFF12</td>
<td>    LOWER <br>OFF11</td>
<td>    LOWER <br>OFF10</td>
<td>    LOWER <br>OFF9 </td>
<td>    LOWER <br>OFF8 </td>
<th>A</th></tr><tr>
<td>    MAP   <br>BLK3 </td>
<td>    MAP   <br>BLK2 </td>
<td>    MAP   <br>BLK1 </td>
<td>    MAP   <br>BLK0 </td>
<td>    LOWER <br>OFF19</td>
<td>    LOWER <br>OFF18</td>
<td>    LOWER <br>OFF17</td>
<td>    LOWER <br>OFF16</td>
<th>X</th></tr><tr>
<td>    UPPER <br>OFF15</td>
<td>    UPPER <br>OFF14</td>
<td>    UPPER <br>OFF13</td>
<td>    UPPER <br>OFF12</td>
<td>    UPPER <br>OFF11</td>
<td>    UPPER <br>OFF10</td>
<td>    UPPER <br>OFF9 </td>
<td>    UPPER <br>OFF8 </td>
<th>Y</th></tr><tr>
<td>    MAP   <br>BLK7 </td>
<td>    MAP   <br>BLK6 </td>
<td>    MAP   <br>BLK5 </td>
<td>    MAP   <br>BLK4 </td>
<td>    UPPER <br>OFF19</td>
<td>    UPPER <br>OFF18</td>
<td>    UPPER <br>OFF17</td>
<td>    UPPER <br>OFF16</td>
<th>Z</th></tr>
</table>

<p> After executing the MAP opcode, all interrupts are inhibited. This is done
    to allow the operating system to complete a mapping sequence
    without fear of getting an interrupt. An interrupt occurring before the
    proper stack-pointer is set will cause return address data to be written
    to an undesired area.
    
<p> Upon completing the mapping sequence, the operating system must remove
    the interrupt inhibit by executing a EOM (formerly NOP) opcode. Note that
    application software may execute NOPs with no effect.
    
<p>
<hr>
  <a href="page38.html"><img src="../../../../../images/blue_prev.gif" width="24" height="24" alt="[Prev]"></a> 
 <a href="page40.html"><img src="../../../../../images/blue_next.gif" width="24" height="24" alt="[Next]"></a> 
<a href="../page6.html"><img src="../../../../../images/blue_toc.gif" width="24" height="24" alt="[Contents]"></a> <a href="../../../index.html"><img src="../../../../../images/blue_cbm.gif" alt="[Commodore]" width="22" height="24"></a>
 <a href="https://www.devili.iki.fi/general/new.html" title="New"><img src="../../../../../images/blue_new.gif" alt="[New]" height="24" width="27"></a>
<a href="https://www.devili.iki.fi/search/" title="Search"><img src="../../../../../images/blue_search.gif" alt="[Search]" height="24" width="24"></a>
<a href="https://www.devili.iki.fi/" title="Home"><img src="../../../../../images/blue_home.gif" alt="[Home]" width=24 height=24></a>
<br>
<table cellspacing="0" border="0" width="100%">
<tr><td align="right" colspan="2"><small>
	This page has been created by <a href="mailto:rtiainen@suespammers.org">
	Sami Rautiainen</a>.
</small></td></tr><tr><td align="left"><small>
	Read the <a href="https://www.devili.iki.fi/general/copyright.html">small print</a>.
</small></td><td align="right"><small>
	Last updated 
	August 10, 2001.
</small></td></tr>
</table>

</body>

</html>

