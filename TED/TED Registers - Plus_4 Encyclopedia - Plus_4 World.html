<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0054)https://plus4world.powweb.com/plus4encyclopedia/500024 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>TED Registers - Plus/4 Encyclopedia - Plus/4 World</title>

<meta name="keywords" content="Commodore Plus/4, C=+4, Commodore 16">
<meta http-equiv="language" content="en">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="SHORTCUT ICON" href="https://plus4world.powweb.com/favicon.ico">

<style type="text/css">
<!--
BODY {margin: 0; background: #001C52 url(/images/nbckgnd.gif); color:#ffffff; }
BODY,TABLE {color: #FFFFFF; font-family: Tahoma,sans-serif; font-size:12px;}
IMG {border: 0;}
HR {margin: 8px 0;}
A {color: #FFDE4C; font-weight:bold; text-decoration: none;}
A:visited {color: #FFDE4C; font-weight:bold; text-decoration: none;}
A:hover {color: #FFE98A; font-weight:bold; text-decoration: underline;}
.h {padding:2px 4px; font-family: Tahoma,sans-serif; font-weight:bold;}
.hi {vertical-align: top; border: 0px; width: 18px; height: 16px}
A.w {color: #F0F0F0; text-decoration: none; font-weight:bold; }
A.w:visited {color: #FFFFFF;}
A.w:hover {color: #FFE98A; text-decoration: underline;}
#mainmenu_slide { display: none; visibility: hidden; }
@media screen and (max-width: 640px) {#mainmenu_screen { display: none; visibility: hidden; }#mainmenu_slide { display: block; visibility: visible; }}
@media screen and (max-width: 320px) { #td_sidebar { display: none; } #div_friends {display: none; } }
INPUT,TEXTAREA,SELECT {font-family: Tahoma,sans-serif; font-size:12px; color:#000000; background-color:#CCCCCC; border: 1px #555555 solid}
select option:hover {box-shadow: 0 0 10px 100px #5D5555 inset; }
.sel {font-family: Tahoma,sans-serif;font-size:12px;background-color:#5D5555;border: 0px;}
.kbHeader {font: 14px Tahoma,sans-serif;font-weight:bold;}
.kbHeaderLarge {font: 16px Tahoma,sans-serif;font-weight:bold;}
.welcome {font: 20px Tahoma,sans-serif;padding-bottom:2px}
TD.x {padding: 3px 4px; background-image:url(/images/line.gif);}
TD.y {padding: 3px 4px; background-image:url(/images/lb.gif);}
pre {margin: 0px; white-space: pre-wrap; }
TABLE.va TR TD {vertical-align: top;}
TABLE.tbl {border: solid 1px #666; border-spacing: 0px; }
TABLE.tbl TD {border: solid 1px #666; padding: 3px 6px; min-width: 70px; }
TABLE.tbl TH {border: solid 1px #666; padding: 3px 6px; min-width: 70px; background-color: rgba(128,128,128,0.25); text-align: center; }
#mainmenu_slide { display: block; position: absolute; top: 10px; left: 5px; z-index: 1; -webkit-user-select: none; user-select: none; }#mainmenu_slide a { text-decoration: none; color: #FFFFFF; }#mainmenu_slide input { display: block; width: 40px; height: 32px; position: absolute; top: -7px; left: -5px; cursor: pointer; opacity: 0; z-index: 2; -webkit-touch-callout: none; }#mainmenu_slide span { display: block; width: 33px; height: 4px; margin-bottom: 5px; position: relative; background: #FFFFFF; border-radius: 3px; z-index: 1; transform-origin: 4px 0px; transition: transform 0.2s; }#mainmenu_slide span:first-child { transform-origin: 0% 0%; }#mainmenu_slide span:nth-last-child(2) { transform-origin: 0% 100%; }#mainmenu_slide input:checked ~ span { opacity: 1; transform: rotate(45deg) translate(-2px, -1px); }#mainmenu_slide input:checked ~ span:nth-last-child(3) { opacity: 0; transform: rotate(0deg) scale(0.2, 0.2); }#mainmenu_slide input:checked ~ span:nth-last-child(2) { transform: rotate(-45deg) translate(0, -1px); }#mainmenu_ul { position: absolute; width: 300px; margin: -100px 0 0 -50px; padding: 50px; padding-top: 100px; background: #5D5555; list-style-type: none;   -webkit-font-smoothing: antialiased; transform-origin: 0% 0%; transform: translate(-100%, 0); transition: transform 0.2s; }#mainmenu_ul li { padding: 8px 0; font-size: 16px; }#mainmenu_slide input:checked ~ ul { transform: none; }
.dropHighlight { background: #666; border: 2px dashed #999; border-radius: 20px; }
blockquote { padding: 10px; margin: 0px; font-style: italic; border-left: #ccc 3px solid;  }
.pmattachment { margin-top: 10px; padding: 16px; border-radius: 8px; border: 1px solid #666; background-color: #333; text-align: left; width: 400px; }
.smalltext { font-size: 12px; color: #999; }
.flex { display: flex; }
.nosel { user-select: none; }
.frmreactwrap { align-items: center; flex-wrap: wrap; padding: 0.5em 0px; }
.frmreact { opacity: 0.9; align-items: center; padding: 0.25em 0.5em; margin-right: 0.5em; border: 1px solid #777; border-radius: 0.5em; background-color: rgba(40,40,40,0.9); cursor: pointer; }
.frmreactcnt { margin-left: 0.5em; }
.flag { vertical-align: text-bottom; }
.edittooltip { color: #111; }
.edittooltip .edittooltiptext { visibility: hidden; background-color: #111; color: #fff; text-align: center; border-radius: 6px; padding: 5px 20px; min-width: 160px; position: absolute; z-index: 1; }
.edittooltip:hover .edittooltiptext { visibility: visible; }
.mag {font-family: Tahoma,sans-serif; font-size: 12px; color:#010101; background-color: #fefefe; border:0px; padding:16px; text-align:left;}.inv {background-color: #FFF; color: #000; }
-->
</style>
</head>
<body>
<table bgcolor="#5D5555" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td colspan="3" bgcolor="#4D4545" style="background-image:url(/images/c4.gif)" width="100%" valign="top"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/g.gif" alt="" width="1" height="6"></td></tr><tr><td colspan="3" align="center" width="100%"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/logo.gif" width="500" height="34" id="img_logo" alt="COMMODORE PLUS/4 WORLD" style="width: 100%; height: auto; max-width: 500px; "></td></tr><tr><td width="80" align="center">&nbsp;</td><td align="center"><nav>
<div id="mainmenu_screen">
<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c2.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/home" class="w">Home</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/search" class="w">Search</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/games" class="w">Games</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/tapes" class="w">Tapes</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/covers" class="w">Covers</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/cheats" class="w">Cheats</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/maps" class="w">Maps</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/sl/100" class="w">Software</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/newstuff" class="w">New&nbsp;Stuff</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c5.gif" alt="" width="6" height="11"><br>
<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c2.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/halloffame" class="w">Hall&nbsp;Of&nbsp;Fame</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/hvtc" class="w">HVTC</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/gameendings" class="w">Game&nbsp;Endings</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/solutions" class="w">Solutions</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/remakes" class="w">Remakes</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/publications" class="w">Publications</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/mags" class="w">Magazines</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/effects" class="w">Effects</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/toplist" class="w">Top&nbsp;List</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c5.gif" alt="" width="6" height="11"><br>
<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c2.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/members" class="w">Members</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/groups" class="w">Groups</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/features" class="w">Features</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/features/upload" class="w">Upload</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/plus4encyclopedia" class="w">Plus/4&nbsp;Encyclopedia</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/hardware" class="w">Hardware</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/tools" class="w">Tools</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/options" class="w">Options</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" alt="" width="6" height="11">&nbsp;<a href="https://plus4world.powweb.com/forum#pagetop" class="w">Forum</a>&nbsp;<img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c5.gif" alt="" width="6" height="11"></div>

<div id="mainmenu_slide">
<input type="checkbox" title="Toggle menu"><span></span><span></span><span></span>
<ul id="mainmenu_ul">
<li><a href="https://plus4world.powweb.com/home">Home</a></li>
<li><a href="https://plus4world.powweb.com/search">Search</a></li>
<li><a href="https://plus4world.powweb.com/games">Games</a></li>
<li><a href="https://plus4world.powweb.com/tapes">Tapes</a></li>
<li><a href="https://plus4world.powweb.com/covers">Covers</a></li>
<li><a href="https://plus4world.powweb.com/cheats">Cheats</a></li>
<li><a href="https://plus4world.powweb.com/maps">Maps</a></li>
<li><a href="https://plus4world.powweb.com/sl/100">Software</a></li>
<li><a href="https://plus4world.powweb.com/newstuff">New Stuff</a></li>
<li><a href="https://plus4world.powweb.com/halloffame">Hall Of Fame</a></li>
<li><a href="https://plus4world.powweb.com/hvtc">HVTC</a></li>
<li><a href="https://plus4world.powweb.com/gameendings">Game Endings</a></li>
<li><a href="https://plus4world.powweb.com/solutions">Solutions</a></li>
<li><a href="https://plus4world.powweb.com/remakes">Remakes</a></li>
<li><a href="https://plus4world.powweb.com/publications">Publications</a></li>
<li><a href="https://plus4world.powweb.com/mags">Magazines</a></li>
<li><a href="https://plus4world.powweb.com/effects">Effects</a></li>
<li><a href="https://plus4world.powweb.com/toplist">Top List</a></li>
<li><a href="https://plus4world.powweb.com/members">Members</a></li>
<li><a href="https://plus4world.powweb.com/groups">Groups</a></li>
<li><a href="https://plus4world.powweb.com/features">Features</a></li>
<li><a href="https://plus4world.powweb.com/features/upload">Upload</a></li>
<li><a href="https://plus4world.powweb.com/plus4encyclopedia">Plus/4 Encyclopedia</a></li>
<li><a href="https://plus4world.powweb.com/hardware">Hardware</a></li>
<li><a href="https://plus4world.powweb.com/tools">Tools</a></li>
<li><a href="https://plus4world.powweb.com/options">Options</a></li>
<li><a href="https://plus4world.powweb.com/forum#pagetop">Forum</a></li>
</ul>
</div>
</nav></td><td width="80" align="center"><a href="https://plus4world.powweb.com/login.php">Login</a></td></tr><tr><td colspan="3" bgcolor="#4D4545" style="background-image:url(/images/b6.gif)" width="100%"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/g.gif" alt="" width="1" height="9"></td></tr></tbody></table><script>function onWindowResize(event){document.getElementById('img_logo').style.maxWidth = Math.min(window.innerWidth - 100, 500) + 'px';} window.addEventListener('resize', onWindowResize); onWindowResize();</script>

<!-- REQUEST_URI /plus4encyclopedia/500024 -->

<table cellpadding="12" cellspacing="0" border="0" width="100%"><tbody><tr><td align="center"><table cellpadding="0" cellspacing="0"><tbody><tr><td height="100%"><table cellpadding="0" cellspacing="0" height="100%"><tbody><tr><td width="11" height="11"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_c1.gif" width="11" height="11" alt=""></td></tr><tr><td bgcolor="#5D5555"></td></tr><tr><td width="11" height="11"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_c2.gif" width="11" height="11" alt=""></td></tr></tbody></table></td><td height="100%" bgcolor="#5D5555"><a href="https://plus4world.powweb.com/plus4encyclopedia" class="M" id="ml__plus4encyclopedia">Plus/4&nbsp;Encyclopedia</a></td><td height="100%" bgcolor="#5D5555" width="16" align="center"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" width="6" height="11" alt=""></td><td height="100%" bgcolor="#5D5555"><a href="https://plus4world.powweb.com/plus4encyclopedia/500001" class="M" id="ml__plus4encyclopedia_500001">First</a></td><td height="100%" bgcolor="#5D5555" width="16" align="center"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" width="6" height="11" alt=""></td><td height="100%" bgcolor="#5D5555"><a href="https://plus4world.powweb.com/plus4encyclopedia/500023" class="M" id="ml__plus4encyclopedia_500023">Back</a></td><td height="100%" bgcolor="#5D5555" width="16" align="center"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" width="6" height="11" alt=""></td><td height="100%" bgcolor="#5D5555"><a href="https://plus4world.powweb.com/plus4encyclopedia/500025" class="M" id="ml__plus4encyclopedia_500025">Next</a></td><td height="100%" bgcolor="#5D5555" width="16" align="center"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/c3.gif" width="6" height="11" alt=""></td><td height="100%" bgcolor="#5D5555"><a href="https://plus4world.powweb.com/plus4encyclopedia/500289" class="M" id="ml__plus4encyclopedia_500289">Last</a></td><td height="100%"><table cellpadding="0" cellspacing="0" height="100%"><tbody><tr><td width="11" height="11"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_c3.gif" width="11" height="11" alt=""></td></tr><tr><td bgcolor="#5D5555"></td></tr><tr><td width="11" height="11"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_c4.gif" width="11" height="11" alt=""></td></tr></tbody></table></td></tr></tbody></table><br><table cellpadding="0" cellspacing="0" border="0" width="100%"><tbody><tr><td width="100%" height="10"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tbody><tr><td width="10" height="10"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_1.gif" alt="" height="10" width="10" class="nosel"></td><td width="100%"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_2.gif" alt="" height="10" width="100%" class="nosel"></td><td width="10" height="10"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_3.gif" alt="" height="10" width="10" class="nosel"></td></tr></tbody></table></td></tr><tr><td><table class="t" cellpadding="2" cellspacing="0" border="0" width="100%"><tbody><tr><td bgcolor="#5D5555" height="24" align="center" colspan="12" style="min-width-disabled: 220px; "><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_t1.gif" class="hi nosel" alt=""><span class="h">TED Registers</span><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_t2.gif" class="hi nosel" alt=""></td></tr><tr><td class="x"><span class="kbHeader"><u>Category</u></span><br><a href="https://plus4world.powweb.com/plus4encyclopedia/490012">Programming/Assembly</a> <br><br><span class="kbHeader"><u>Topic</u></span><br><br><span class="kbHeader">Table Of Contents:</span><br><ul><li><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#QuickRef">Quick reference chart</a></li><li><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#DetailedRegs">Detailed register description</a></li><li><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#Palette">Palette</a></li><li><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#VideoModes">Video modes</a></li></ul><hr><a name="QuickRef"></a>The TED has all of its registers between memory addresses $FF00-$FF3F. Some general things to note: unused bits are always one, whatever value is written into them is ignored. E.g. write $12 into $FF15, reading it back will be $92 ($12 + $80 unused bit). Almost all registers are read/write!<br><br><span class="kbHeader">Quick reference chart:</span><br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th>Address</th><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF00">$FF00</a></td><td colspan="8">TIMER1LO</td><td align="left">Timer/Counter #1: low bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF01">$FF01</a></td><td colspan="8">TIMER1HI</td><td align="left">Timer/Counter #1: high bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF02">$FF02</a></td><td colspan="8">TIMER2LO</td><td align="left">Timer/Counter #2: low bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF03">$FF03</a></td><td colspan="8">TIMER2HI</td><td align="left">Timer/Counter #2: high bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF04">$FF04</a></td><td colspan="8">TIMER3LO</td><td align="left">Timer/Counter #3: low bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF05">$FF05</a></td><td colspan="8">TIMER3HI</td><td align="left">Timer/Counter #3: high bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF06">$FF06</a></td><td>TEST</td><td>ECM</td><td>BMM</td><td>DEN</td><td>RSEL</td><td colspan="3">YSCROLL</td><td align="left">Configuration Register 1 (CR1)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF07">$FF07</a></td><td>RVSDIS</td><td>NTSC/PAL<a href="https://plus4world.powweb.com/plus4encyclopedia/500024#SideNote1">¹</a></td><td>TEDOFF</td><td>MCM</td><td>CSEL</td><td colspan="3">XSCROLL</td><td align="left">Configuration Register 2 (CR2)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF08">$FF08</a></td><td colspan="8">KEYBOARD</td><td align="left">Keyboard Latch register</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF09">$FF09</a></td><td>IRQ</td><td>TIMER3IF</td><td>-</td><td>TIMER2IF</td><td>TIMER1IF</td><td>ILP<a href="https://plus4world.powweb.com/plus4encyclopedia/500024#SideNote2">²</a></td><td>IRST</td><td>-</td><td align="left">Interrupt Flags register (IRQST)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF0A">$FF0A</a></td><td>-</td><td>TIMER3IE</td><td>-</td><td>TIMER2IE</td><td>TIMER1IE</td><td>LPIE<a href="https://plus4world.powweb.com/plus4encyclopedia/500024#SideNote2">²</a></td><td>ERST</td><td>RSTCMP8</td><td align="left">Interrupt Enable register + Raster interrupt B8 (IRQEN)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF0B">$FF0B</a></td><td colspan="8">RSTCMP7..0</td><td align="left">Raster Interrupt bits B7..0</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF0C">$FF0C</a></td><td colspan="6">-</td><td colspan="2">CURSORHI</td><td align="left">Cursor position: high 2 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF0D">$FF0D</a></td><td colspan="8">CURSORLO</td><td align="left">Cursor position: low 8 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF0E">$FF0E</a></td><td colspan="8">SND1FREQLO</td><td align="left">Sound Channel #1 frequency: low 8 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF0F">$FF0F</a></td><td colspan="8">SND2FREQLO</td><td align="left">Sound Channel #2 frequency: low 8 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF10">$FF10</a></td><td colspan="6">-</td><td colspan="2">SND2FREQHI</td><td align="left">Sound Channel #2 frequency: high 2 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF11">$FF11</a></td><td>SNDDC</td><td>SND2NOISE</td><td>SND2ON</td><td>SND1ON</td><td colspan="4">VOLUME</td><td align="left">Sound control register (SCR)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF12">$FF12</a></td><td colspan="2">-</td><td colspan="3">BMPADDR</td><td>BMPROM</td><td colspan="2">SND1FREQHI</td><td align="left">Bitmap address, BMP+CHAR ROM/RAM, Sound Channel #1 frequency: high 2 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF13">$FF13</a></td><td colspan="6">Character generator address</td><td>SINGLECLK</td><td>ROM/RAM<a href="https://plus4world.powweb.com/plus4encyclopedia/500024#SideNote3">³</a></td><td align="left">Character generator address, Single clock mode, actual ROM/RAM config</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF14">$FF14</a></td><td colspan="5">Screen memory address</td><td colspan="3">-</td><td align="left">Screen memory address</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF15">$FF15</a></td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Background luminance+chrominance 0 (B0C)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF16">$FF16</a></td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Background luminance+chrominance 1 (B1C)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF17">$FF17</a></td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Background luminance+chrominance 2 (B2C)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF18">$FF18</a></td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Background luminance+chrominance 3 (B3C)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF19">$FF19</a></td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Border luminance+chrominance (EC)</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF1A">$FF1A</a></td><td colspan="6">-</td><td colspan="2">STCHPOSHI</td><td align="left">Start position of character row: high 2 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF1B">$FF1B</a></td><td colspan="8">STCHPOSLO</td><td align="left">Start position of character row: low 8 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF1C">$FF1C</a></td><td colspan="7">-</td><td>RSTL8</td><td align="left">Current vertical position: high 1 bit</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF1D">$FF1D</a></td><td colspan="8">RSTL7..0</td><td align="left">Current vertical position: low 8 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF1E">$FF1E</a></td><td colspan="7">LINEPOS7..0</td><td>-</td><td align="left">Current horizontal position: high 7 bits</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF1F">$FF1F</a></td><td>-</td><td colspan="4">FLASHCNT</td><td colspan="3">CHRAST</td><td align="left">Flash counter, actual rasterline in a character row</td></tr><tr><td></td><td colspan="8"></td><td></td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF3E">$FF3E</a></td><td colspan="8">SWITCHROM</td><td align="left">Switch to ROM on $8000..$FFFF area</td></tr><tr align="center"><td><a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF3F">$FF3F</a></td><td colspan="8">SWITCHRAM</td><td align="left">Switch to RAM on $8000..$FFFF area</td></tr></tbody></table><br><a name="SideNote1"></a>¹: NTSC/PAL: TED handles two video standards, but there are other differences between PAL/NTSC machines. The most important is the basic clock speed of the system. Switching the TED to the other standard will not have the desired effect, as the rest of the machine will not be replaced.<br><a name="SideNote2"></a>²: ILP/LPIE: The lightpen is only a planned option, unfortunately it is not implemented in TED and cannot be used.<br><a name="SideNote3"></a>³: ROM/RAM: The ROM/RAM can be switched with the $FF3E/$FF3F registers, this bit is read only and indicates the current state.<br><hr><a name="DetailedRegs"></a><span class="kbHeader">Detailed register description:</span><br><br><a name="FF00"></a><a name="FF01"></a><a name="FF02"></a><a name="FF03"></a><a name="FF04"></a><a name="FF05"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="10">$FF00..$FF05</th></tr><tr align="center"><th>Address</th><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>$FF00</td><td colspan="8">TIMER1LO</td><td align="left">Timer/Counter #1: low bits</td></tr><tr align="center"><td>$FF01</td><td colspan="8">TIMER1HI</td><td align="left">Timer/Counter #1: high bits</td></tr><tr align="center"><td>$FF02</td><td colspan="8">TIMER2LO</td><td align="left">Timer/Counter #2: low bits</td></tr><tr align="center"><td>$FF03</td><td colspan="8">TIMER2HI</td><td align="left">Timer/Counter #2: high bits</td></tr><tr align="center"><td>$FF04</td><td colspan="8">TIMER3LO</td><td align="left">Timer/Counter #3: low bits</td></tr><tr align="center"><td>$FF05</td><td colspan="8">TIMER3HI</td><td align="left">Timer/Counter #3: high bits</td></tr></tbody></table><br><ul><li><b>$FF00-$FF01</b>: TED timer/counter #1. This 16 bit register counts back from the last value that is written to it.</li><li><b>$FF02-$FF03</b>: TED timer/counter #2. It runs freely from $FFFF.</li><li><b>$FF04-$FF05</b>: TED timer/counter #3. It runs freely from $FFFF.</li></ul>These timers operate from the single clock and have no other configuration options. Timers should be set as follows: The lower 8 bits of the value must be writen first, at which point the timer stops running. Then write the upper 8 bits of the value, and the timer will start counting down from the 16-bit value.<br><br>These timers operate from the single clock, but - of course - it can also be set when the CPU is running at twice clock. This should not cause any problems, but here's what you need to know: the timers cannot be started half a clock cycle out of sync with their own clock.<br><br>The first timer is the classic interval timer: the counter counts down to 0, sets the interrupt flag, and writes the set value back to the counter. And it is repeated forever. The timer generates an interrupt after exactly as many steps (single clocks) as the value set! (If 1000 is set as the start value, there will be one interrupt every 1000 (single) clock cycles.)<br><br>The other two timers are of the one-shot like type: the set value is counted down to 0 and then sets the interrupt flag. However, it doesn't stop here like a traditional one-shot timer, but turns over to $FFFF and continues counting from there. If not re-set at this time, it will cause an interrupt again after 65535 cycles.<br><br>Timers always set the interrupt flag when they expire, regardless of whether the timer interrupt is enabled! For this reason, the expiry of timers can be checked directly from software, without the need to trigger a real interrupt. (Of course, care must be taken that the interrupt routine triggered by another event does not clear the interrupt flag of that timer.) For timer interrupt enable / flags, see the description of the <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF09">$FF09</a> + <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF0A">$FF0A</a> registers below.<br><br><b><u>Note</u></b><br>When setting the timer, do not allow too much time to elapse between setting the lower value (when the counter stops) and setting the upper value. The TED datasheet recommends that the time between setting the lower and upper values should be no more than 125us (approximately 110 single-clock cycles).<br><br>If too long a time elapses in the stopped state, all bits in the stopped timer value will eventually drop to 0 and the timer will remain stopped at $0000. For timers 1 and 3, this can take several seconds, but may be as little as 0.5 seconds. For timer 2, it takes roughly twice as long as the other timers for this to happen. The time taken appears to depend on the temperature of the TED chip, warmer=faster. When all bits in the stopped timer drop to 0, the corresponding interrupt flag in $FF09 will be set and cannot be cleared until after the timer is restarted.<br><br>When the timer is restarted after the bits have dropped to $0000, the previously written lower value is forgotten, and the timer will start counting from $XX00. However, this does not affect the reload value on timer 1. For example: after writing $78 to the lower value of timer 1, then waiting for the stopped timer 1 bits to drop to $0000, then restarting by writing $45 to the upper value of timer 1, it will start counting down from $4500, but it will still correctly reload at $4578 for the next interval.<br><br><a name="FF06"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF06</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>TEST</td><td>ECM</td><td>BMM</td><td>DEN</td><td>RSEL</td><td colspan="3">YSCROLL</td><td align="left">Configuration Register 1 (CR1)</td></tr><tr align="center"><td>0</td><td>0</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td><td>(Default value)</td></tr></tbody></table><br><b>$FF06</b>: Default $1B (Similar to VIC-II $D011)<br><ul><li>Bit 7 : TEST, TED's internal test, it should be 0.</li><li>Bit 6 : ECM, Extended color mode, see also $FF16/$FF17/$FF18.</li><li>Bit 5 : BMM, Bitmap mode (0 (default) = character mode), 1 = bitmap mode)</li><li>Bit 4 : DEN, Blank screen (Display ENable, 0 = screen is blank, 1 (default) = screen is visible)</li><li>Bit 3 : RSEL, 25/24 rows screen</li><li>Bit 2,1,0 : YSCROLL, Vertical smooth-scrolling</li></ul><br><a name="FF07"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF07</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>RVSDIS</td><td>NTSC/PAL<a href="https://plus4world.powweb.com/plus4encyclopedia/500024#SideNote1">¹</a></td><td>TEDOFF</td><td>MCM</td><td>CSEL</td><td colspan="3">XSCROLL</td><td align="left">Configuration Register 2 (CR2)</td></tr><tr align="center"><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>(Default value / PAL machines)</td></tr><tr align="center"><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>(Default value / NTSC machines)</td></tr></tbody></table><br><b>$FF07</b>: Default $08/$48 PAL/NTSC (Similar to VIC-II $D016)<br><ul><li>Bit 7 : RVSDIS, Inverse/256 characters flag (0 (default) = 128 characters + inverse, 1 = 256 characters)</li><li>Bit 6 : NTSC/PAL (0 = PAL, 1 = NTSC – it has no effect in Drean machines. Note: just switching the bit will not change the machine to the other video standard!)</li><li>Bit 5 : TEDOFF, TED stop. If set, the TED stops it's counters and screen-generating, only single clock and refresh cycles remain.</li><li>Bit 4 : MCM, Multicolor mode</li><li>Bit 3 : CSEL, 40/38 columns screen</li><li>Bit 2,1,0 : XSCROLL, Horizontal smooth-scrolling</li></ul>Turning on Enhanced color mode and Multicolor mode at the same time will produce black in the screen area as it does in VIC-II.<br><br><br><a name="FF08"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF08</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="8">KEYBOARD</td><td align="left">Keyboard Latch register</td></tr></tbody></table><br><b>$FF08</b>: Keyboard input latch. Giving a strobe - writing to the register, the latch stores the values of the input-lines. Then, we can read them from this register. See <a href="https://plus4world.powweb.com/plus4encyclopedia/500012">this topic</a> for more details and a working example.<br><br><br><a name="FF09"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF09</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>IRQ</td><td>TIMER3IF</td><td>-</td><td>TIMER2IF</td><td>TIMER1IF</td><td>ILP<a href="https://plus4world.powweb.com/plus4encyclopedia/500024#SideNote2">²</a></td><td>IRST</td><td>-</td><td align="left">Interrupt Flags register (IRQST)</td></tr></tbody></table><br><b>$FF09</b>: Interrupt flags register. When a counter/raster interrupt wants to send an IRQ, its bit will appear as a 1; then, if the IRQ was caused the highest bit is set. The relevant bits are set when the conditions for interrupts are met regardless of whether the interrupt for that bit is enabled in $FF0A register.<br><ul><li>Bit 7 : IRQ, Interrupt occured. This bit is set when an IRQ was enabled and therefore, the IRQ was sent to the processor. Physically, this is the negated level of the TED's IRQ output. The IRQ should be deleted with writing the register-value back after accepting an interrupt.</li><li>Bit 6 : TIMER3IF, Counter #3</li><li>Bit 5 : Unused</li><li>Bit 4 : TIMER2IF, Counter #2</li><li>Bit 3 : TIMER1IF, Counter #1</li><li>Bit 2 : ILP, Lightpen. Not implemented.</li><li>Bit 1 : IRST, Raster-counter</li><li>Bit 0 : Unused</li></ul>The usual way to clear the interrupt flag(s) is the <b>LDA $FF09</b> / <b>STA $FF09</b> instruction pair, in which case the write to the register will clear the flag(s). When the register is written, only the flag with a bit 1 in the BYTE written is cleared! This causes an <b>LDA #$FF</b> / <b>STA $FF09</b> to delete all flags. Occasionally you may need to delete just one flag, it is also simple: for example, the <b>LDA #$02</b> / <b>STA $FF09</b> pair can be used to clear the raster interrupt flag only, leaving the other flags intact and separately handled.<br><br><br><a name="FF0A"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF0A</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>-</td><td>TIMER3IE</td><td>-</td><td>TIMER2IE</td><td>TIMER1IE</td><td>LPIE<a href="https://plus4world.powweb.com/plus4encyclopedia/500024#SideNote2">²</a></td><td>ERST</td><td>RSTCMP8</td><td align="left">Interrupt Enable register + Raster interrupt B8 (IRQEN)</td></tr><tr align="center"><td>1</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>(Default value)</td></tr></tbody></table><br><b>$FF0A</b>: Interrupt mask register. These bits could be used to disable and enable interrupt-sources. When a place is set to 1, that will be able to cause an interrupt to the processor. If not, the sign of the interrupt request will only be appear in $FF09 register.<br><ul><li>Bit 7 : Unused</li><li>Bit 6 : TIMER3IE, Counter #3</li><li>Bit 5 : Unused</li><li>Bit 4 : TIMER2IE, Counter #2</li><li>Bit 3 : TIMER1IE, Counter #1</li><li>Bit 2 : LPIE, Lightpen. Not implemented.</li><li>Bit 1 : ERST, Raster-counter</li><li>Bit 0 : RSTCMP8, 9th bit of $FF0B (see there)</li></ul><br><a name="FF0B"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF0B</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="8">RSTCMP7..0</td><td align="left">Raster Interrupt bits B7..0</td></tr></tbody></table><br><b>$FF0B</b>: Raster interrupt register. Same as VIC-II $D012 when writing; it stores the position of occurring raster interrupt. Highmost bit is in $FF0A's bit 0.<br><br>When the raster line counter reaches this value, the raster interrupt flag is set, regardless of whether or not the raster IRQ is enabled! See <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF09">$FF09</a> + <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF0A">$FF0A</a> registers above.<br><br><br><a name="FF0C"></a><a name="FF0D"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="10">$FF0C/$FF0D</th></tr><tr align="center"><th>Address</th><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>$FF0C</td><td colspan="6">-</td><td colspan="2">CURSORHI</td><td align="left">Cursor position: high 2 bits</td></tr><tr align="center"><td>$FF0D</td><td colspan="8">CURSORLO</td><td align="left">Cursor position: low 8 bits</td></tr></tbody></table><br><b>$FF0C-$FF0D</b>: Hardware-cursor position (10 bits). Lower bits: $FF0D, higher 2 bits in $FF0C's 0th and 1st places. Beyond 1000 the cursor is not visible. However, screen manipulating tricks may cause it to be seen.<br><b>$FF0C</b>:<br><ul><li>Bit 7-2 : Unused</li><li>Bit 1-0 : Cursor position higher bits</li></ul><b>$FF0D</b>:<br><ul><li>Bit 7-0 : Cursor position lower bits</li></ul><br><a name="FF0E"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF0E</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="8">SND1FREQLO</td><td align="left">Sound Channel #1 frequency: low 8 bits</td></tr></tbody></table><br><b>$FF0E</b>: This register is the first sound-source's frq-value's lowmost 8 bit. More 2 bits are in $FF10's 0th and 1st places.<br><br><br><a name="FF0F"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF0F</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="8">SND2FREQLO</td><td align="left">Sound Channel #2 frequency: low 8 bits</td></tr></tbody></table><br><b>$FF0F</b>: 2nd source, lowmost 8 bits. More 2 bits in $FF12, 0. and 1. places. The sound-register value can be calculated as<br>  reg = 1023-(111860.78125/frq[Hz]) (NTSC)<br>  reg = 1023-(110840.46875/frq[Hz]) (PAL – that constant was calculated with assuming the crystal frequency to be 17.734475MHz)<br>The formulae below, that can be found in various books, is wrong<br>  reg=1024-(111860.781/frq[Hz]) (NTSC)<br>  reg=1024-(111840.45 /frq[Hz]) (PAL)<br>The frequency constant in the above formulae is 1/160th of the crystal frequency for PAL and 1/128th for NTSC.<br>A strange thing is that the lowest tone is generated by the highest register value (1023=$3FF).<br>Even more weird is that the value 1022 ($3FE) locks up the corresponding sound source.<br><br><br><a name="FF10"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF10</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="6">-</td><td colspan="2">SND2FREQHI</td><td align="left">Sound Channel #2 frequency: high 2 bits</td></tr></tbody></table><br><b>$FF10</b>: 2nd sound-source, highmost 2 bits.<br><ul><li>Bit 7-2 : Unused.</li><li>Bit 1-0 : 2nd. channel freq., highmost bits</li></ul><br><a name="FF11"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF11</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>SNDDC</td><td>SND2NOISE</td><td>SND2ON</td><td>SND1ON</td><td colspan="4">VOLUME</td><td align="left">Sound control register (SCR)</td></tr></tbody></table><br><b>$FF11</b>: Sound control register.<br><ul><li>Bit 7 : SNDDC, D/A mode. See above for more.</li><li>Bit 6 : SND2NOISE, Sound #2 noise on/off. If you set both, the square will sound.</li><li>Bit 5 : SND2ON, Sound #2 square-wave on/off.</li><li>Bit 4 : SND1ON, Sound #1 on/off.</li><li>Bit 3-0 : VOLUME, sound volume. Maximum value is 8.</li></ul><br><a name="FF12"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF12</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="2">-</td><td colspan="3">BMPADDR</td><td>BMPROM</td><td colspan="2">SND1FREQHI</td><td align="left">Bitmap address, BMP+CHAR ROM/RAM, Sound Channel #1 frequency: high 2 bits</td></tr><tr align="center"><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>(Default value)</td></tr></tbody></table><br><b>$FF12</b>:<br><ul><li>Bit 7-6 : Unused.</li><li>Bit 5,4,3 : BMPADDR, these bits tell, where to find bitmap in the memory when using bitmap-mode. TED assumes them as A15, A14 and A13 bits. So, the bitmaps can be switched as 8K pages, anywhere in the 64K.</li><li>Bit 2 : BMPROM, character generator in ROM or RAM. When set, TED will enable ROM when trying to get data from the character generator or bitmap to build screen. Else, it will give out control-signals to the DRAMs.</li><li>Bit 1,0 : SND1FREQHI, 1st sound-source, highmost bits.</li></ul><br><a name="FF13"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF13</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="6">Character generator address</td><td>SINGLECLK</td><td>ROM/RAM<a href="https://plus4world.powweb.com/plus4encyclopedia/500024#SideNote3">³</a></td><td align="left">Character generator address, Single clock mode, actual ROM/RAM config</td></tr><tr align="center"><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td><td>(Default value)</td></tr></tbody></table><br><b>$FF13</b>:<br><ul><li>Bit 7-2 : Character generator. Bit 7 corresponds to A15, 6 to A14 and so on. This value shows and sets the start of the character generator. It can be paged as $400 bytes. Use with addition of $FF12 bit 2.</li><li>Bit 1 : SINGLECLK, force single clock mode. Then, TED will disable generating twice clock. Note: by default 0, twice clock is enabled. Twice clock is handled fully automatically: when TED does not need the memory, it automatically switches the CPU to double speed.</li><li>Bit 0 : ROM/RAM, a sign to having control about memory paging. This bit always sets to 1 when ROM is active over $8000. Else, it will be 0. READ ONLY.</li></ul><br><a name="FF14"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF14</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="5">Screen memory address</td><td colspan="3">-</td><td align="left">Screen memory address</td></tr><tr align="center"><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>1</td><td>1</td><td>1</td><td>(Default value)</td></tr></tbody></table><br><b>$FF14</b>:<br><ul><li>Bit 7-3 : Start of the video-ram. Bit 7 also corresponds to the A15 line as above. So, video-ram is mappable as $800 bytes - 2K. The above $FF12 bit 2 doesn't affect this, but the actual RAM/ROM mapping (see at $FF3E/$FF3F and $FF13/0) does.</li><li>Bit 2-0 : Unused</li></ul><br><a name="FF15"></a><a name="FF16"></a><a name="FF17"></a><a name="FF18"></a><a name="FF19"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="10">$FF15..$FF19</th></tr><tr align="center"><th>Address</th><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>$FF15</td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Background luminance+chrominance 0 (B0C)</td></tr><tr align="center"><td>$FF16</td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Background luminance+chrominance 1 (B1C)</td></tr><tr align="center"><td>$FF17</td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Background luminance+chrominance 2 (B2C)</td></tr><tr align="center"><td>$FF18</td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Background luminance+chrominance 3 (B3C)</td></tr><tr align="center"><td>$FF19</td><td>-</td><td colspan="3">LUMA</td><td colspan="4">CHROMA</td><td align="left">Border luminance+chrominance (EC)</td></tr></tbody></table><br>Color registers. Each color register has the following bits:<br><ul><li>Bit 7 : unused.</li><li>Bits 6-4 : luminance</li><li>Bits 3-0 : chrominance (color code)</li></ul>These registers set the following colors:<br><ul><li><b>$FF15</b> : Background color. Works/used in every video mode.</li><li><b>$FF16</b> : Multicolor/Extended color #1. Works/used in multicolor and ECM modes, see $FF07 and $FF06.</li><li><b>$FF17</b> : Multicolor/Extended color #2. Works/used in multicolor and ECM modes, see $FF07 and $FF06.</li><li><b>$FF18</b> : Extended color #3. Works/used in ECM mode only, see $FF06.</li><li><b>$FF19</b> : Border color. Works/used in every video mode. When the screen is turned off, (see $FF06), the whole screen is this color.</li></ul><br><a name="FF1A"></a><a name="FF1B"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="10">$FF1A/$FF1B</th></tr><tr align="center"><th>Address</th><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>$FF1A</td><td colspan="6">-</td><td colspan="2">STCHPOSHI</td><td align="left">Start position of character row: high 2 bits</td></tr><tr align="center"><td>$FF1B</td><td colspan="8">STCHPOSLO</td><td align="left">Start position of character row: low 8 bits</td></tr></tbody></table><br><b>$FF1A</b>:<br><ul><li>Bit 7-2 : Unused</li><li>Bit 1-0 : STCHPOSHI, Highmost bits of register $FF1B (only affects bitmap mode)</li></ul><b>$FF1B</b>: STCHPOSLO, Current character-position (only affects bitmap mode). Highmost bits in the above register. TED counts the characters that it had fetched and put out to the screen. The number is increasing by 40 after every character row (8 rasterline).<br><ul><li>Bit 7-0 : STCHPOSLO, Low 8 bits.</li></ul><br><a name="FF1C"></a><a name="FF1D"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="10">$FF1C/$FF1D</th></tr><tr align="center"><th>Address</th><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><th>$FF1C</th><td colspan="7">-</td><td>RSTL8</td><td align="left">Current vertical position: high 1 bit</td></tr><tr align="center"><th>$FF1D</th><td colspan="8">RSTL7..0</td><td align="left">Current vertical position: low 8 bits</td></tr></tbody></table><br><b>$FF1C</b>:<br><ul><li>Bit 7-1 : Unused</li><li>Bit 0 : Highmost bit of $FF1D</li></ul><b>$FF1D</b>: RSTL7..0, Current position of vertical scanning. Highmost bit is in $FF1C. Read/Writeable!<br><ul><li>Bit 7-0 : RSTL7..0, current raster line low 8 bits.</li></ul><br><a name="FF1E"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF1E</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="7">LINEPOS7..0</td><td>-</td><td align="left">Current horizontal position: high 7 bits</td></tr></tbody></table><br><b>$FF1E</b>: Current position of horizontal scanning. R/W!. Lowmost bit is unused. It contains the TED's internal counter's highmost 8 bits. So, it increases by 4 with every character. When writing, it seems to put the value to a functionally different register (writing back a reading value in right time affects the screen).<br><ul><li>Bit 7-1 : Horizontal position</li><li>Bit 0 : Unused</li></ul><br><a name="FF1F"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF1F</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td>-</td><td colspan="4">FLASHCNT</td><td colspan="3">CHRAST</td><td align="left">Flash counter, actual rasterline in a character row</td></tr></tbody></table><br><b>$FF1F</b>:<br><ul><li>Bit 7 : Unused</li><li>Bit 6-3 : FLASHCNT, flashing counter. It's value increases with every frame, and TED fits it's flashing feature to this register's reaching to 15.</li><li>Bit 2,1,0 : CHRAST, actual vertical scanning-line in a character row. R/W!.</li></ul><br><a name="FF3E"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF3E</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="8">SWITCHROM</td><td align="left">Switch to ROM on $8000..$FFFF area</td></tr></tbody></table><br><b>$FF3E</b>: This so called "shadow register" controls RAM/ROM paging with register <b>$FF3F</b>. Writing an arbitrary value to $FF3E will page in the currently configured ROMs to the upper memory area ($8000..$FFFF).<br><br><br><a name="FF3F"></a><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="9">$FF3F</th></tr><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th><th align="left">Description</th></tr><tr align="center"><td colspan="8">SWITCHRAM</td><td align="left">Switch to RAM on $8000..$FFFF area</td></tr></tbody></table><br><b>$FF3F</b>: This so called "shadow register" controls RAM/ROM paging with register <b>$FF3E</b>. Writing an arbitrary value to $FF3F will page in the RAM to the upper memory area ($8000..$FFFF).<br><br><br>It seems that the memory area in the hole of the TED registers  ($FF20..$FF3D) is available as ROM or RAM depending on the ROM/RAM switch.<br><hr><a name="Palette"></a><span class="kbHeader">Palette:</span><br><br>TED can display 121 colors on the screen. This "nice" number can be calculated as follows:<br><br>The color code consists of a 4-bit chrominance part (in the above description as CHROMA), which means 16 different colors. More precisely, 15 colors, plus black. This is complemented by a 3-bit brightness value (in the above description as LUMA), so that each color has 8 different brightness levels. The exception is black, all luminosities of which are the same black. It follows that 15 chrominances * 8 luminances = 120, + 1 black = 121.<br><br>The following picture shows this:<br><br><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/ted_palette_measured.gif" width="336" height="216" style="width: 100%; height: auto; max-width: 336px; "><br><br>The color codes (in the registers) are composed so that the 6,5,4 bits are the brightness (LUMA) and the 3,2,1,0 bits are the color code (CHROMA) itself. Because of this it is very easy to represent them hexadecimally, for example $71 means that the $1 color is $7 in brightness.<br><br>Some interesting facts:<br><ul><li>The first 8 colors of the TED are the same as the first 8 colors of the VIC-II(e), you just need to select the closest brightness value.</li><li>TED's white is the lightest $1 color (code: $71), but it's not actually white, just a very-very light grey. (Since the same level of brightness is given for all colors, if the white it were lighter, the other colors would be completely bleached out.) This contrasts with the white color of the VIC-II(e), which has a signal level so high that it is higher than the standard value.</li><li>Black is darker than the darkest brightness of the other colors, so there are 9 levels of brightness in total.</li></ul><hr><a name="VideoModes"></a><span class="kbHeader">Video modes:</span><br><br>The TED has 4 plus 1 configuration bits to switch between different modes. One of these bits should be examined separately:<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th>DEN<br>$FF06 B4</th><th>Description</th></tr><tr align="center"><td>1</td><td align="left">Screen on: the picture is displayed according to the mode you have set</td></tr><tr align="center"><td>0</td><td align="left">Screen off: the whole screen takes on the color of the border</td></tr></tbody></table><br>When the screen is off, the CPU performs about 10000 clock cycles more during a full display frame than when the screen is on! In this case, the CPU is running at twice clock speed for almost the entire time. Warning: this setting, the CPU is not running at a constant speed! If a non-varying speed is required, the slower single clock can be enabled by setting bit 1 (SINGLECLK) of $FF13.<br><br>When the screen is on, TED reads exactly the same amount of data from memory in all of the following modes, with exactly the same timing. So a change of screen mode does not change the scheme of where the CPU runs and at what speed. (Except for the case above when the screen is turned off.) Note: because of scheduling differences between on/off screen, the DEN bit does not directly control the screen. (TED only uses the DEN bit state when it has to decide which schedule to use, etc...) For this reason, switching the control bit will not have an immediate effect, but will usually only affect the next frame.<br><br>To draw the image, TED reads data from two sources in each mode:<br><ul><li>Reads data from the "screen memory" area: this is a 2 KBYTE area (in two 1 KBYTE slices), which can be placed anywhere in memory (starting at 2 KBYTE boundaries), see the description of the <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF14">$FF14 register</a>. (If it is in the range $8000..$FFFF, reads from ROM or RAM as configured for the CPU.) From this memory, the TED reads 40+40 BYTE for each character line. (This memory area is identical in function to the VIC-II(e) screen memory + color memory.) When TED reads this memory space, it stops the CPU for that time. Each character row has two such raster rows ('DMA-lines' or 'bad-lines'), at which time it reads 40 + 40 BYTE into an internal buffer. The function of the readed BYTEs depends on the screen mode, see below for details.</li><li>It reads in "bitmap" data, this is the character set in character mode, the actual bitmap in graphics mode, see <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF13">$FF13</a> and <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF12">$FF12</a> registers and <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF06">$FF06</a> register for setting the video mode. (If it is in the range $8000..$FFFF, reads from ROM or RAM depending on the state of the BMPROM configuration bit, see <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF12">$FF12 Bit 2</a>). That's 40 BYTE per raster line, for a total of 320 per character line. When only this data is needed by the TED, the CPU runs at a single clock speed. The data readed here will be the pixels on the screen. How depends on the mode you have set, see below.</li></ul><br>CPU vs video speed: in single clock CPU speed, exactly 8 (HiRes) pixels of image are drawn on the screen in one clock cycle. (And 4 pixels on twice clock.) In fact, TED has 3 types of schedule:<br><ul><li>If it doesn't need to read anything, the CPU is running at twice clock speed</li><li>If it only reads the 'bitmap' data, the CPU is running at single clock speed</li><li>If you also need to read the "screen memory" (then you also need to read 'bitmap'), the CPU is stopped</li></ul><br><b>Pixels:</b><br><br>The pixels are generated from the 'bitmap' data, which is read by TED from the character set in character mode and from the graphic-bitmap in graphics mode. The BYTE interpretation of the readed 'bitmap' is fortunately the same:<br><ul><li>In 'HiRes' mode, one BYTE represents 8 pixels, which are displayed according to the binary representation:<br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th></tr><tr align="center"><td>#<br>Left-most pixel</td><td>#<br>.</td><td>#<br>.</td><td>#<br>.</td><td>#<br>.</td><td>#<br>.</td><td>#<br>.</td><td>#<br>Right-most pixel</td></tr></tbody></table><br>In this case, a pixel has two states:<br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">Bit</th><th width="70">Pixel value</th></tr><tr align="center"><td>0</td><td>0 or Off</td></tr><tr align="center"><td>1</td><td>1 or On</td></tr></tbody></table><br></li><li>In 'Multicolor' mode, the horizontal resolution is halved with two bits per one pixel, the display is as follows:<br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">B7</th><th width="70">B6</th><th width="70">B5</th><th width="70">B4</th><th width="70">B3</th><th width="70">B2</th><th width="70">B1</th><th width="70">B0</th></tr><tr align="center"><td colspan="2">##<br>Left-most pixel</td><td colspan="2">##<br>.</td><td colspan="2">##<br>.</td><td colspan="2">##<br>Right-most pixel</td></tr></tbody></table><br>In this case, a pixel has four states:<br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">Bitpair</th><th width="70">Pixel value</th></tr><tr align="center"><td>00</td><td>0</td></tr><tr align="center"><td>01</td><td>1</td></tr><tr align="center"><td>10</td><td>2</td></tr><tr align="center"><td>11</td><td>3</td></tr></tbody></table></li></ul>Which pixel value corresponds to which color depends on the mode, see below.<br><br><b>Configurations for the modes:</b><br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th>ECM<br>$FF06 B6</th><th>BMM<br>$FF06 B5</th><th>MCM<br>$FF07 B4</th><th>RVSDIS<br>$FF07 B7</th><th>Description</th></tr><tr align="center"><td>0</td><td>0</td><td>0</td><td>0</td><td align="left">HiRes character mode with 128 chars, system-default</td></tr><tr align="center"><td>0</td><td>0</td><td>0</td><td>1</td><td align="left">HiRes character mode with 256 chars</td></tr><tr align="center"><td>1</td><td>0</td><td>0</td><td>X</td><td align="left">HiRes character mode with extended background colors, 64 chars</td></tr><tr align="center"><td>0</td><td>0</td><td>1</td><td>0</td><td align="left">Multicolor character mode with 128 chars</td></tr><tr align="center"><td>0</td><td>0</td><td>1</td><td>1</td><td align="left">Multicolor character mode with 256 chars</td></tr><tr align="center"><td>0</td><td>1</td><td>0</td><td>X</td><td align="left">HiRes Bitmap mode</td></tr><tr align="center"><td>0</td><td>1</td><td>1</td><td>X</td><td align="left">Multicolor Bitmap mode</td></tr><tr align="center"><td>1</td><td>1</td><td>X</td><td>X</td><td align="left">Illegal mode (black)</td></tr><tr align="center"><td>1</td><td>X</td><td>1</td><td>X</td><td align="left">Illegal mode (black)</td></tr></tbody></table><br><br><br><b>Character modes:</b><br><br>In character mode, the 'bitmap' data is read from the character set. (See <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF13">$FF13 register</a>.) Each character has 8 BYTEs, which describe the character's image in the 8 associated rasterlines. The address of a character in the character set can be calculated as follows: character code × 8, plus the starting address of the character set. The 8 consecutive BYTE here are the 'image' of the character.<br><br>In character mode, the "screen memory" is divided into the following two parts:<br><ul><li>The first 1 KBYTE contains the colors of the characters, in this case it is the 'color memory' or 'attribute memory'.</li><li>The second 1 KBYTE contains the codes of the characters, which indicate which character should appear at the given position. This is the 'character memory' or 'character matrix'.</li></ul><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="4">HiRes character mode with 128 chars, system-default</th></tr><tr align="center"><td>ECM=0</td><td>BMM=0</td><td>MCM=0</td><td>RVSDIS=0</td></tr></tbody></table><br>In this mode, 128 different characters can be used, the character set size is 128×8 BYTE, i.e. 1 KBYTE. In this case, the address of the character set can be set with 1 KBYTE boundaries! The lower 7 bits (Bit 6-0) of the BYTE in the 'character memory' then give the character code, which in the character set indicates the character's shape. Bit 7 then indicates the inverted state of the character. TED will still read the selected character 'bitmap' (from the 0-127 character), but it will reverse the readed data itself and display it. For this reason, the shape of the inverse characters does not need to be stored separately, the inversion is done by TED.<br><br>The colors of the pixels displayed are:<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">Pixel value</th><th>Color</th></tr><tr align="center"><td>0</td><td>$FF15</td></tr><tr align="center"><td>1</td><td>'Color memory' BYTE Bit 6-0</td></tr></tbody></table><br>In this mode, you can use two colors per character: a single color for the whole screen, and a color that can be set for each character position. The BYTE 6-0 bits of the color BYTE read from 'color memory' have the usual structure: Bit 6-4: brightness, Bit 3-0: color code (chromaticity). Bit 7 turns on character flashing if 1. This flashing is also done by the TED completely independently of the CPU. In this mode, TED displays the character cursor in the set position.<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="4">HiRes character mode with 256 chars</th></tr><tr align="center"><td>ECM=0</td><td>BMM=0</td><td>MCM=0</td><td>RVSDIS=1</td></tr></tbody></table><br>As before, but in this mode, 256 different characters can be used, the character set size is 256×8 BYTE, i.e. 2 KBYTE. In this case, the address of the character set can be set with 2 KBYTE boundaries! The entire BYTE in the 'character memory' then give the character code, which in the character set indicates the character's shape.<br><br>The colors of the pixels displayed are the same as the previous ones, which are:<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">Pixel value</th><th>Color</th></tr><tr align="center"><td>0</td><td>$FF15</td></tr><tr align="center"><td>1</td><td>'Color memory' BYTE Bit 6-0</td></tr></tbody></table><br>In this mode, you can use two colors per character: a single color for the whole screen, and a color that can be set for each character position. The BYTE 6-0 bits of the color BYTE read from 'color memory' have the usual structure: Bit 6-4: brightness, Bit 3-0: color code (chromaticity). Bit 7 turns on character flashing if 1. This flashing is also done by the TED completely independently of the CPU. In this mode, TED displays the character cursor in the set position.<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="4">HiRes character mode with extended background colors, 64 chars</th></tr><tr align="center"><td>ECM=1</td><td>BMM=0</td><td>MCM=0</td><td>RVSDIS=X</td></tr></tbody></table><br>In this mode, 64 different characters can be used, the character set size is 64×8 BYTE, i.e. 0.5 KBYTE. In this case - unfortunately - the RVSDIS is ineffective, the character set can be set within 2 KBYTE boundaries. Since only 64 characters can be used, the 2 bits freed from the character code (Bit 7, 6) are assigned to the background color.<br><br>The colors of the pixels displayed are:<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">Pixel value</th><th>Character code Bit 7,6</th><th>Color</th></tr><tr align="center"><td>0</td><td>00</td><td>$FF15</td></tr><tr align="center"><td>0</td><td>01</td><td>$FF16</td></tr><tr align="center"><td>0</td><td>10</td><td>$FF17</td></tr><tr align="center"><td>0</td><td>11</td><td>$FF18</td></tr><tr align="center"><td>1</td><td>XX</td><td>'Color memory' BYTE Bit 6-0</td></tr></tbody></table><br>In this mode, you can use two colors per character: a single color for the whole screen, and a color that can be set for each character position. The BYTE 6-0 bits of the color BYTE read from 'color memory' have the usual structure: Bit 6-4: brightness, Bit 3-0: color code (chromaticity). Bit 7 is not used in this mode, its value is irrelevant. In this mode, TED does not display the character cursor!<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="4">Multicolor character mode with 128 chars</th></tr><tr align="center"><td>ECM=0</td><td>BMM=0</td><td>MCM=1</td><td>RVSDIS=0</td></tr></tbody></table><br>In this mode, 128 different characters can be used, the character set size is 128×8 BYTE, i.e. 1 KBYTE. In this case, the address of the character set can be set with 1 KBYTE boundaries! The lower 7 bits (Bit 6-0) of the BYTE in the 'character memory' then give the character code, which in the character set indicates the character's shape. Bit 7 is not used in this mode, its value is irrelevant.<br><br>The colors of the pixels displayed are:<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">Pixel value</th><th>Color</th></tr><tr align="center"><td>00</td><td>$FF15</td></tr><tr align="center"><td>01</td><td>$FF16</td></tr><tr align="center"><td>10</td><td>$FF17</td></tr><tr align="center"><td>11</td><td>'Color memory' BYTE Bit 6-4, 2-0</td></tr></tbody></table><br>In this mode, you can use four colors per character: three color for the whole screen, and a color that can be set for each character position. Bits 6-0 of the BYTE read from 'color memory' are partly of the usual structure, Bit 6-4: brightness. However, the color code (chromaticity) is only 3 bits: Bit 2-0. For this reason, only the first 8 colors can be used (with all brightness values)! The bit 3 taken from the color code can be used to switch the character to HiRes or Multicolor mode! (Bit 3 = 0: HiRes, = 1: Multicolor.) This can be used to mix HiRes / Multicolor characters on the screen, and display both at the same time. (This function of bit 3 is unfortunately a legacy of VIC/VIC-II, where it is used for the same function. In TED, however, there is an unused bit in the BYTE of the color code that could have been used for this function...) Bit 7 is not used in this mode, its value is irrelevant. In this mode, TED does not display the character cursor!<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="4">Multicolor character mode with 256 chars</th></tr><tr align="center"><td>ECM=0</td><td>BMM=0</td><td>MCM=1</td><td>RVSDIS=1</td></tr></tbody></table><br>As before, in this mode, 256 different characters can be used, the character set size is 256×8 BYTE, i.e. 2 KBYTE. In this case, the address of the character set can be set with 2 KBYTE boundaries! The entire BYTE in the 'character memory' then give the character code, which in the character set indicates the character's shape.<br><br>The colors of the pixels displayed are:<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">Pixel value</th><th>Color</th></tr><tr align="center"><td>00</td><td>$FF15</td></tr><tr align="center"><td>01</td><td>$FF16</td></tr><tr align="center"><td>10</td><td>$FF17</td></tr><tr align="center"><td>11</td><td>'Color memory' BYTE Bit 6-4, 2-0</td></tr></tbody></table><br>In this mode, you can use four colors per character: three color for the whole screen, and a color that can be set for each character position. Bits 6-0 of the BYTE read from 'color memory' are partly of the usual structure, Bit 6-4: brightness. However, the color code (chromaticity) is only 3 bits: Bit 2-0. For this reason, only the first 8 colors can be used (with all brightness values)! The bit 3 taken from the color code can be used to switch the character to HiRes or Multicolor mode! (Bit 3 = 0: HiRes, = 1: Multicolor.) This can be used to mix HiRes / Multicolor characters on the screen, and display both at the same time. Bit 7 is not used in this mode, its value is irrelevant. In this mode, TED does not display the character cursor!<br><br><br><b>Graphic modes:</b><br><br>In graphic mode, the 'bitmap' data is read from the (real) bitmap. Its size is 8 KBYTE, freely movable in memory along 8 KBYTE boundaries. (See <a href="https://plus4world.powweb.com/plus4encyclopedia/500024#FF12">$FF12 register</a>.) Its structure is similar to the character set of the character mode, the consecutive 8 BYTEs give the shape of one character area (8×8 pixels). Of these 8 BYTE groups, 40 give the complete picture of a character row.<br><br>In graphical mode, "screen memory" can also be called "attribute memory" as a whole. It is divided into the following two parts:<br><ul><li>The first 1 KBYTE of data contains brightness values (LUMAs) for two freely adjustable colors. This is the "luma memory".</li><li>The second 1 KBYTE of data contains chromination values (CHROMAs) for two freely adjustable colors. This is the "chroma memory".</li></ul>A BYTE of LUMA memory and a BYTE of CHROMA memory, paired with each other, contains two colors of a character area, which may vary from character area to character area.<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="4">HiRes Bitmap mode</th></tr><tr align="center"><td>ECM=0</td><td>BMM=1</td><td>MCM=0</td><td>RVSDIS=X</td></tr></tbody></table><br>In this mode, each pixel of the entire screen can be turned on/off separately (320×200 pixels). Each bit corresponds to one pixel.<br><br>The colors of the pixels displayed are:<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th width="70">Pixel value</th><th>Color</th></tr><tr align="center"><td>0</td><td>LUMA BYTE bit 6-4 + CHROMA BYTE bit 3-0</td></tr><tr align="center"><td>1</td><td>LUMA BYTE bit 2-0 + CHROMA BYTE bit 7-4</td></tr></tbody></table><br>In this mode, two colors can be used per character, both freely selectable. Bits 7 and 4 of the LUMA BYTE are not used.<br><br><table class="tbl" border="1" cellspacing="0" cellpadding="2"><tbody><tr align="center"><th colspan="4">Multicolor Bitmap mode</th></tr><tr align="center"><td>ECM=0</td><td>BMM=1</td><td>MCM=1</td><td>RVSDIS=X</td></tr></tbody></table><br>In this mode, each pixel of the entire screen can be turned on/off separately (160×200 pixels). Each bitpair (two bit) corresponds to one pixel.<br><br>The colors of the pixels displayed are:<br><br><table class="tbl"><tbody><tr><th> Pixel value </th><th> Color </th></tr><tr><td align="center"> 00 </td><td> $FF15 </td></tr><tr><td align="center"> 01 </td><td> LUMA BYTE bit 2-0 + CHROMA BYTE bit 7-4 </td></tr><tr><td align="center"> 10 </td><td> LUMA BYTE bit 6-4 + CHROMA BYTE bit 3-0 </td></tr><tr><td align="center"> 11 </td><td> $FF16 </td></tr></tbody></table>In this mode, four colors per character can be used, two of which can be freely selected. (This is different from the VIC-II, where the 12 bits of attribute memory can hold 3 color codes, whereas the TED has only two in the 16 bits of attribute memory.) Bits 7 and 4 of the LUMA BYTE are not used.<br><br><br><br><br><br><span class="kbHeader"><u>Keywords</u></span><br>$FF00,$FF01,$FF02,$FF03,$FF04,$FF05,$FF06,$FF07,$FF08,$FF09,$FF0A,$FF0B,$FF0C,$FF0D,$FF0E,$FF0F,<br>$FF10,$FF11,$FF12,$FF13,$FF14,$FF15,$FF16,$FF17,$FF18,$FF19,$FF1A,$FF1B,$FF1C,$FF1D,$FF1E,$FF1F, $FF3E, $FF3F&nbsp;</td></tr>
</tbody></table></td></tr><tr><td width="100%" height="10"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tbody><tr><td width="10" height="10"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_4.gif" alt="" height="10" width="10" class="nosel"></td><td width="100%"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_5.gif" alt="" height="10" width="100%" class="nosel"></td><td width="10" height="10"><img src="./TED Registers - Plus_4 Encyclopedia - Plus_4 World_files/s0_6.gif" alt="" height="10" width="10" class="nosel"></td></tr></tbody></table></td></tr></tbody></table>
<br><br>
<br><center><font size="1">Copyright © Plus/4 World Team, 2001-2025. Support Plus/4 World on <a href="https://patreon.com/plus4world" target="_blank" rel="nofollow">Patreon</a></font></center></td></tr></tbody></table></body></html>